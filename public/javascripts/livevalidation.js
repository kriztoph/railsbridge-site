jQuery.fn.liveValidation=function(conf,addedFields){var config=jQuery.extend({validIco:'',invalidIco:'',valid:'Valid',invalid:'Invalid',validClass:'valid',invalidClass:'invalid',required:[],fields:{}},conf);var fields=jQuery.extend({name:/^\S.*$/,title:/^\S.*$/,author:/^\S.*$/,message:/^\S.*$/m,comment:/^\S.*$/m,content:/^\S.*$/m,description:/^\S.*$/m,dimensions:/^\d+x\d+$/,price:/^\d+$/,url:/^(http:\/\/)?(www)?([^|\.]*?)\.([^]){2,5}$/,email:/^.+?@.+?\..{2,4}$/},config.fields);var formControls=config.required;if(!formControls.length){return this}for(var i in formControls){formControls[i]=':input[name='+formControls[i]+']'}formControls=formControls.join(',');return this.each(function(){jQuery(formControls,this).each(function(){var t=jQuery(this);if(t.is('.jquery-live-validation-on')){return}else{t.addClass('jquery-live-validation-on')}var validator=jQuery('<img src="'+config.invalidIco+'" alt="'+config.invalid+'" />').insertAfter(t.addClass(config.invalidClass));var validate=function(){var key=t.attr('name');var val=t.val();var tit=t.attr('title');val=tit==val?'':val;if(val.match(fields[key])){if(validator.attr('alt')!=config.valid){validator.attr('src',config.validIco);validator.attr('alt',config.valid);t.removeClass(config.invalidClass).addClass(config.validClass)}}else{if(validator.attr('alt')!=config.invalid){validator.attr('src',config.invalidIco);validator.attr('alt',config.invalid);t.removeClass(config.validClass).addClass(config.invalidClass)}}};validate();t.keyup(validate)});jQuery('form',this).submit(function(){return!jQuery(this).find('img[alt="'+config.invalid+'"]').length})})};